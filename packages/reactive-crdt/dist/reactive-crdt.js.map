{"version":3,"file":"reactive-crdt.js","sources":["../src/boxed.ts","../src/types.ts","../src/internal.ts","../src/object.ts","../src/index.ts","../src/array.ts","../src/index.ts"],"sourcesContent":["import { JSONValue } from \"./types\";\r\nimport * as Y from \"yjs\";\r\n\r\n// const RAW_SYMBOL = Symbol(\"bo\");\r\nexport class Box<T extends Readonly<JSONValue>> {\r\n  // public RAW_SYMBOL;\r\n  constructor(public readonly value: T) {}\r\n}\r\n\r\nexport function boxed<T extends JSONValue>(value: T) {\r\n  return new Box(Object.freeze(value) as T);\r\n}\r\n","import * as Y from \"yjs\";\r\n\r\nexport type Primitive = bigint | boolean | null | number | string | symbol | undefined;\r\n\r\nexport type JSONValue = Primitive | JSONObject | JSONArray;\r\n\r\nexport type JSONObject = {\r\n  [key: string]: JSONValue;\r\n};\r\n\r\nexport type JSONArray = Array<JSONValue>;\r\n\r\nexport function isYType(element: any) {\r\n  return element instanceof Y.AbstractType;\r\n}\r\n","import { markRaw } from \"@reactivedata/reactive\";\r\nimport * as Y from \"yjs\";\r\nimport { crdtValue } from \".\";\r\nimport { boxed } from \"./boxed\";\r\nimport { isYType } from \"./types\";\r\nexport const yToWrappedCache = new WeakMap<Y.AbstractType<any>, any>();\r\n\r\nexport function parseYjsReturnValue(value: any, implicitObserver?: any) {\r\n  if (isYType(value)) {\r\n    value._implicitObserver = implicitObserver;\r\n\r\n    if (value instanceof Y.Array || value instanceof Y.Map) {\r\n      if (!yToWrappedCache.has(value)) {\r\n        const wrapped = crdtValue(value);\r\n        yToWrappedCache.set(value, wrapped);\r\n      }\r\n      value = yToWrappedCache.get(value);\r\n    } else if (\r\n      value instanceof Y.XmlElement ||\r\n      value instanceof Y.XmlFragment ||\r\n      value instanceof Y.XmlText ||\r\n      value instanceof Y.XmlHook ||\r\n      value instanceof Y.Text\r\n    ) {\r\n      markRaw(value);\r\n      (value as any).__v_skip = true; // for vue Reactive\r\n    } else {\r\n      throw new Error(\"unknown YType\");\r\n    }\r\n    return value;\r\n  } else if (typeof value === \"object\") {\r\n    return boxed(value);\r\n  }\r\n  return value;\r\n}\r\n","import { $reactive, $reactiveproxy, reactive } from \"@reactivedata/reactive\";\r\nimport * as Y from \"yjs\";\r\nimport { crdtValue, getInternalAny, INTERNAL_SYMBOL, ObjectSchemaType } from \".\";\r\nimport { CRDTArray } from \"./array\";\r\nimport { parseYjsReturnValue, yToWrappedCache } from \"./internal\";\r\nimport { Box } from \"./boxed\";\r\nimport { isYType } from \"./types\";\r\n\r\nexport type CRDTObject<T extends ObjectSchemaType> = {\r\n  [P in keyof T]?: T[P] extends Box<infer A>\r\n    ? Box<A>\r\n    : T[P] extends Array<infer A>\r\n    ? CRDTArray<A>\r\n    : T[P] extends ObjectSchemaType\r\n    ? CRDTObject<T[P]>\r\n    : T[P];\r\n} & {\r\n  [INTERNAL_SYMBOL]?: Y.Map<T>;\r\n};\r\n\r\nexport function crdtObject<T extends ObjectSchemaType>(initializer: T, map = new Y.Map<any>()) {\r\n  if (map[$reactive]) {\r\n    throw new Error(\"unexpected\");\r\n    // map = map[$reactive].raw;\r\n  }\r\n\r\n  const proxy = new Proxy(({} as any) as CRDTObject<T>, {\r\n    set: (target, p, value) => {\r\n      if (typeof p !== \"string\") {\r\n        throw new Error();\r\n      }\r\n      const wrapped = crdtValue(value); // TODO: maybe set cache\r\n      const internal = getInternalAny(wrapped) || wrapped;\r\n      if (internal instanceof Box) {\r\n        map.set(p, internal.value);\r\n      } else {\r\n        map.set(p, internal);\r\n      }\r\n      return true;\r\n    },\r\n    get: (target, p, receiver) => {\r\n      if (p === INTERNAL_SYMBOL) {\r\n        return map;\r\n      }\r\n      if (typeof p !== \"string\") {\r\n        return Reflect.get(target, p);\r\n        // throw new Error(\"get non string parameter\");\r\n      }\r\n      let ic: any;\r\n      if (receiver && receiver[$reactiveproxy]) {\r\n        ic = receiver[$reactiveproxy]?.implicitObserver;\r\n        (map as any)._implicitObserver = ic;\r\n      } else {\r\n        // console.warn(\"no receiver getting property\", p);\r\n      }\r\n      let ret = map.get(p);\r\n      ret = parseYjsReturnValue(ret, ic);\r\n      return ret;\r\n    },\r\n    deleteProperty: (target, p) => {\r\n      if (typeof p !== \"string\") {\r\n        throw new Error();\r\n      }\r\n      if (map.has(p)) {\r\n        map.delete(p);\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    has: (target, p) => {\r\n      if (typeof p === \"string\" && map.has(p)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    getOwnPropertyDescriptor(target, p) {\r\n      if (typeof p === \"string\" && map.has(p)) {\r\n        return {\r\n          enumerable: true,\r\n          configurable: true\r\n        };\r\n      }\r\n      return undefined;\r\n    },\r\n    ownKeys: target => {\r\n      return Array.from(map.keys());\r\n    }\r\n  });\r\n\r\n  yToWrappedCache.set(map, proxy);\r\n\r\n  for (let key in initializer) {\r\n    proxy[key] = initializer[key] as any;\r\n  }\r\n\r\n  return proxy;\r\n}\r\n","import * as reactive from \"@reactivedata/reactive\";\r\nimport { makeYJSObservable, useReactiveBindings } from \"@reactivedata/yjs-reactive-bindings\";\r\nimport * as Y from \"yjs\";\r\nimport { CRDTArray, crdtArray } from \"./array\";\r\nimport { CRDTObject, crdtObject } from \"./object\";\r\nimport { Box } from \"./boxed\";\r\nimport { JSONValue } from \"./types\";\r\nexport { useMobxBindings, useVueBindings } from \"@reactivedata/yjs-reactive-bindings\";\r\n\r\n// setup yjs-reactive-bindings\r\nmakeYJSObservable();\r\nuseReactiveBindings(reactive); // use reactive bindings by default\r\n\r\nexport const INTERNAL_SYMBOL = Symbol(\"INTERNAL_SYMBOL\");\r\n\r\nexport function getInternalMap<T extends ObjectSchemaType>(object: CRDTObject<T>) {\r\n  return object[INTERNAL_SYMBOL] as Y.Map<T>;\r\n}\r\n\r\nexport function getInternalArray<T>(object: CRDTArray<T>) {\r\n  return object[INTERNAL_SYMBOL] as Y.Array<T>;\r\n}\r\n\r\nexport function getInternalAny(\r\n  object: any /*CRDTArray<any> | CRDTObject<any>*/\r\n): CRDTArray<any> | CRDTObject<any> | undefined {\r\n  return object[INTERNAL_SYMBOL];\r\n}\r\n\r\nexport function crdtValue<T extends NestedSchemaType>(value: T | Y.Array<any> | Y.Map<any>) {\r\n  value = (getInternalAny(value as any) as any) || value; // unwrap\r\n  if (value instanceof Y.Array) {\r\n    return crdtArray([], value);\r\n  } else if (value instanceof Y.Map) {\r\n    return crdtObject({}, value);\r\n  } else if (typeof value === \"string\") {\r\n    return value; // TODO\r\n  } else if (Array.isArray(value)) {\r\n    return crdtArray(value as any[]);\r\n  } else if (\r\n    value instanceof Y.XmlElement ||\r\n    value instanceof Y.XmlFragment ||\r\n    value instanceof Y.XmlText ||\r\n    value instanceof Y.XmlHook\r\n  ) {\r\n    return value;\r\n  } else if (value instanceof Y.Text) {\r\n    return value;\r\n  } else if (typeof value === \"object\") {\r\n    if (value instanceof Box) {\r\n      return value;\r\n    } else {\r\n      return crdtObject(value as any);\r\n    }\r\n  } else if (typeof value === \"number\" || typeof value === \"boolean\") {\r\n    return value;\r\n  } else {\r\n    throw new Error(\"invalid\");\r\n  }\r\n}\r\n\r\nexport function crdt<T extends ObjectSchemaType>(doc: Y.Doc) {\r\n  return crdtObject({} as T, doc.getMap());\r\n}\r\n\r\nexport type NestedSchemaType = JSONValue | ObjectSchemaType | Box<any> | Y.AbstractType<any> | NestedSchemaType[];\r\n\r\nexport type ObjectSchemaType = {\r\n  [key: string]: NestedSchemaType;\r\n};\r\n\r\nexport { Y };\r\n","import { $reactive, $reactiveproxy } from \"@reactivedata/reactive\";\r\nimport * as Y from \"yjs\";\r\nimport { crdtValue, getInternalAny, INTERNAL_SYMBOL, ObjectSchemaType } from \".\";\r\nimport { parseYjsReturnValue, yToWrappedCache } from \"./internal\";\r\nimport { CRDTObject } from \"./object\";\r\nimport { Box } from \"./boxed\";\r\nimport { isYType } from \"./types\";\r\n\r\nexport type CRDTArray<T> = {\r\n  [INTERNAL_SYMBOL]?: Y.Array<T>;\r\n  [n: number]: T extends Box<infer A>\r\n    ? A\r\n    : T extends Array<infer A>\r\n    ? CRDTArray<A>\r\n    : T extends ObjectSchemaType\r\n    ? CRDTObject<T>\r\n    : T;\r\n} & T[]; // TODO: should return ArrayImplementation<T> on getter\r\n\r\nfunction arrayImplementation<T>(arr: Y.Array<T>) {\r\n  const slice = function slice() {\r\n    let ic = this[$reactiveproxy]?.implicitObserver;\r\n    (arr as any)._implicitObserver = ic;\r\n    const items = arr.slice.bind(arr).apply(arr, arguments);\r\n    return items.map(item => {\r\n      const ret = parseYjsReturnValue(item, ic);\r\n      return ret;\r\n    });\r\n  } as T[][\"slice\"];\r\n  const wrapItems = function wrapItems(items) {\r\n    return items.map(item => {\r\n      const wrapped = crdtValue(item as any); // TODO\r\n      const internal = getInternalAny(wrapped) || wrapped;\r\n      if (internal instanceof Box) {\r\n        return internal.value;\r\n      } else {\r\n        return internal;\r\n      }\r\n    });\r\n  };\r\n\r\n  const ret = {\r\n    // get length() {\r\n    //   return arr.length;\r\n    // },\r\n    // set length(val: number) {\r\n    //   throw new Error(\"set length of yjs array is unsupported\");\r\n    // },\r\n    slice,\r\n    unshift: arr.unshift.bind(arr) as Y.Array<T>[\"unshift\"],\r\n    push: (...items: T[]) => {\r\n      arr.push(wrapItems(items));\r\n      return arr.length;\r\n    },\r\n\r\n    insert: arr.insert.bind(arr) as Y.Array<T>[\"insert\"],\r\n    toJSON: arr.toJSON.bind(arr) as Y.Array<T>[\"toJSON\"],\r\n\r\n    forEach: function() {\r\n      return [].forEach.apply(slice.apply(this), arguments);\r\n    } as T[][\"forEach\"],\r\n\r\n    filter: function() {\r\n      return [].filter.apply(slice.apply(this), arguments);\r\n    } as T[][\"filter\"],\r\n\r\n    find: function() {\r\n      return [].find.apply(slice.apply(this), arguments);\r\n    } as T[][\"find\"],\r\n\r\n    map: function() {\r\n      return [].map.apply(slice.apply(this), arguments);\r\n    } as T[][\"map\"],\r\n\r\n    indexOf: function() {\r\n      return [].indexOf.apply(slice.apply(this), arguments);\r\n    } as T[][\"indexOf\"],\r\n\r\n    splice: function() {\r\n      let start = arguments[0] < 0 ? arr.length - Math.abs(arguments[0]) : arguments[0];\r\n      let deleteCount = arguments[1];\r\n      let items = Array.from(Array.from(arguments).slice(2));\r\n      let deleted = slice.apply(this, [start, Number.isInteger(deleteCount) ? start + deleteCount : undefined]);\r\n      arr.delete(start, deleteCount);\r\n      arr.insert(start, wrapItems(items));\r\n      return deleted;\r\n    } as T[][\"splice\"]\r\n    // toJSON = () => {\r\n    //   return this.arr.toJSON() slice();\r\n    // };\r\n    // delete = this.arr.delete.bind(this.arr) as (Y.Array<T>)[\"delete\"];\r\n  };\r\n\r\n  // this is necessary to prevent errors like \"trap reported non-configurability for property 'length' which is either non-existent or configurable in the proxy target\" when adding support for ownKeys and Reflect.keysx\r\n  Object.defineProperty(ret, \"length\", {\r\n    enumerable: false,\r\n    configurable: false,\r\n    writable: true,\r\n    value: arr.length\r\n  });\r\n\r\n  return ret;\r\n}\r\n\r\nfunction propertyToNumber(p: string | number | symbol) {\r\n  if (typeof p === \"string\" && p.trim().length) {\r\n    const asNum = Number(p);\r\n    // https://stackoverflow.com/questions/10834796/validate-that-a-string-is-a-positive-integer\r\n    if (Number.isInteger(asNum)) {\r\n      return asNum;\r\n    }\r\n  }\r\n  return p;\r\n}\r\n\r\nexport function crdtArray<T>(initializer: T[], arr = new Y.Array<T>()) {\r\n  if (arr[$reactive]) {\r\n    throw new Error(\"unexpected\");\r\n    // arr = arr[$reactive].raw;\r\n  }\r\n  const implementation = arrayImplementation(arr);\r\n\r\n  const proxy = new Proxy((implementation as any) as CRDTArray<T>, {\r\n    set: (target, pArg, value) => {\r\n      const p = propertyToNumber(pArg);\r\n      if (typeof p !== \"number\") {\r\n        throw new Error();\r\n      }\r\n      // TODO map.set(p, smartValue(value));\r\n      return true;\r\n    },\r\n    get: (target, pArg, receiver) => {\r\n      const p = propertyToNumber(pArg);\r\n\r\n      if (p === INTERNAL_SYMBOL) {\r\n        return arr;\r\n      }\r\n\r\n      if (typeof p === \"number\") {\r\n        let ic: any;\r\n        if (receiver && receiver[$reactiveproxy]) {\r\n          ic = receiver[$reactiveproxy]?.implicitObserver;\r\n          (arr as any)._implicitObserver = ic;\r\n        } else {\r\n          // console.warn(\"no receiver getting property\", p);\r\n        }\r\n        let ret = arr.get(p) as any;\r\n        ret = parseYjsReturnValue(ret, ic);\r\n        return ret;\r\n      }\r\n\r\n      if (p === Symbol.toStringTag) {\r\n        return \"Array\";\r\n      }\r\n\r\n      if (p === Symbol.iterator) {\r\n        const values = arr.slice();\r\n        return Reflect.get(values, p);\r\n      }\r\n\r\n      if (p === \"length\") {\r\n        return arr.length;\r\n      }\r\n      // forward to arrayimplementation\r\n      const ret = Reflect.get(target, p, receiver);\r\n      return ret;\r\n    },\r\n    // getOwnPropertyDescriptor: (target, pArg) => {\r\n    //   const p = propertyToNumber(pArg);\r\n    //   if (typeof p === \"number\" && p < arr.length && p >= 0) {\r\n    //     return { configurable: true, enumerable: true, value: arr.get(p) };\r\n    //   } else {\r\n    //     return undefined;\r\n    //   }\r\n    // },\r\n    deleteProperty: (target, pArg) => {\r\n      const p = propertyToNumber(pArg);\r\n      if (typeof p !== \"number\") {\r\n        throw new Error();\r\n      }\r\n      if (p < arr.length && p >= 0) {\r\n        arr.delete(p);\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    has: (target, pArg) => {\r\n      const p = propertyToNumber(pArg);\r\n      if (typeof p !== \"number\") {\r\n        // forward to arrayimplementation\r\n        return Reflect.has(target, p);\r\n      }\r\n      if (p < arr.length && p >= 0) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    getOwnPropertyDescriptor(target, pArg) {\r\n      const p = propertyToNumber(pArg);\r\n      if (p === \"length\") {\r\n        return {\r\n          enumerable: false,\r\n          configurable: false,\r\n          writable: true\r\n        };\r\n      }\r\n      if (typeof p === \"number\" && p >= 0 && p < arr.length) {\r\n        return {\r\n          enumerable: true,\r\n          configurable: true,\r\n          writable: true\r\n        };\r\n      }\r\n      return undefined;\r\n    },\r\n    ownKeys: target => {\r\n      const keys: string[] = [];\r\n      for (let i = 0; i < arr.length; i++) {\r\n        keys.push(i + \"\");\r\n      }\r\n      keys.push(\"length\");\r\n      return keys;\r\n    }\r\n  });\r\n\r\n  implementation.push.apply(proxy, initializer);\r\n  return proxy;\r\n}\r\n","import * as reactive from \"@reactivedata/reactive\";\r\nimport { makeYJSObservable, useReactiveBindings } from \"@reactivedata/yjs-reactive-bindings\";\r\nimport * as Y from \"yjs\";\r\nimport { CRDTArray, crdtArray } from \"./array\";\r\nimport { CRDTObject, crdtObject } from \"./object\";\r\nimport { Box } from \"./boxed\";\r\nimport { JSONValue } from \"./types\";\r\nexport { useMobxBindings, useVueBindings } from \"@reactivedata/yjs-reactive-bindings\";\r\n\r\n// setup yjs-reactive-bindings\r\nmakeYJSObservable();\r\nuseReactiveBindings(reactive); // use reactive bindings by default\r\n\r\nexport const INTERNAL_SYMBOL = Symbol(\"INTERNAL_SYMBOL\");\r\n\r\nexport function getInternalMap<T extends ObjectSchemaType>(object: CRDTObject<T>) {\r\n  return object[INTERNAL_SYMBOL] as Y.Map<T>;\r\n}\r\n\r\nexport function getInternalArray<T>(object: CRDTArray<T>) {\r\n  return object[INTERNAL_SYMBOL] as Y.Array<T>;\r\n}\r\n\r\nexport function getInternalAny(\r\n  object: any /*CRDTArray<any> | CRDTObject<any>*/\r\n): CRDTArray<any> | CRDTObject<any> | undefined {\r\n  return object[INTERNAL_SYMBOL];\r\n}\r\n\r\nexport function crdtValue<T extends NestedSchemaType>(value: T | Y.Array<any> | Y.Map<any>) {\r\n  value = (getInternalAny(value as any) as any) || value; // unwrap\r\n  if (value instanceof Y.Array) {\r\n    return crdtArray([], value);\r\n  } else if (value instanceof Y.Map) {\r\n    return crdtObject({}, value);\r\n  } else if (typeof value === \"string\") {\r\n    return value; // TODO\r\n  } else if (Array.isArray(value)) {\r\n    return crdtArray(value as any[]);\r\n  } else if (\r\n    value instanceof Y.XmlElement ||\r\n    value instanceof Y.XmlFragment ||\r\n    value instanceof Y.XmlText ||\r\n    value instanceof Y.XmlHook\r\n  ) {\r\n    return value;\r\n  } else if (value instanceof Y.Text) {\r\n    return value;\r\n  } else if (typeof value === \"object\") {\r\n    if (value instanceof Box) {\r\n      return value;\r\n    } else {\r\n      return crdtObject(value as any);\r\n    }\r\n  } else if (typeof value === \"number\" || typeof value === \"boolean\") {\r\n    return value;\r\n  } else {\r\n    throw new Error(\"invalid\");\r\n  }\r\n}\r\n\r\nexport function crdt<T extends ObjectSchemaType>(doc: Y.Doc) {\r\n  return crdtObject({} as T, doc.getMap());\r\n}\r\n\r\nexport type NestedSchemaType = JSONValue | ObjectSchemaType | Box<any> | Y.AbstractType<any> | NestedSchemaType[];\r\n\r\nexport type ObjectSchemaType = {\r\n  [key: string]: NestedSchemaType;\r\n};\r\n\r\nexport { Y };\r\n"],"names":["Box","value","boxed","Object","freeze","isYType","element","Y","AbstractType","yToWrappedCache","WeakMap","parseYjsReturnValue","implicitObserver","_implicitObserver","Array","Map","has","wrapped","crdtValue","set","get","XmlElement","XmlFragment","XmlText","XmlHook","Text","markRaw","__v_skip","Error","crdtObject","initializer","map","$reactive","proxy","Proxy","target","p","internal","getInternalAny","receiver","INTERNAL_SYMBOL","Reflect","ic","$reactiveproxy","ret","deleteProperty","delete","getOwnPropertyDescriptor","enumerable","configurable","undefined","ownKeys","from","keys","key","makeYJSObservable","useReactiveBindings","reactive","Symbol","object","crdtArray","isArray","arrayImplementation","arr","slice","items","bind","apply","arguments","item","wrapItems","unshift","push","length","insert","toJSON","forEach","filter","find","indexOf","splice","start","Math","abs","deleteCount","deleted","Number","isInteger","defineProperty","writable","propertyToNumber","trim","asNum","implementation","pArg","toStringTag","iterator","values","i","getInternalMap","getInternalArray","crdt","doc","getMap"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA;IACaA,GAAb;AAEE,aAA4BC,KAA5B;OAA4BA;AAAA,YAAA,GAAAA,KAAA;AAAY,CAF1C;SAKgBC,MAA2BD;AACzC,SAAO,IAAID,GAAJ,CAAQG,MAAM,CAACC,MAAP,CAAcH,KAAd,CAAR,CAAP;AACD;;SCCeI,QAAQC;AACtB,SAAOA,OAAO,YAAYC,YAAC,CAACC,YAA5B;AACD;;ACTM,IAAMC,eAAe,GAAG,IAAIC,OAAJ,EAAxB;SAESC,oBAAoBV,OAAYW;AAC9C,MAAIP,OAAO,CAACJ,KAAD,CAAX,EAAoB;AAClBA,IAAAA,KAAK,CAACY,iBAAN,GAA0BD,gBAA1B;;AAEA,QAAIX,KAAK,YAAYM,YAAC,CAACO,KAAnB,IAA4Bb,KAAK,YAAYM,YAAC,CAACQ,GAAnD,EAAwD;AACtD,UAAI,CAACN,eAAe,CAACO,GAAhB,CAAoBf,KAApB,CAAL,EAAiC;AAC/B,YAAMgB,OAAO,GAAGC,WAAS,CAACjB,KAAD,CAAzB;AACAQ,QAAAA,eAAe,CAACU,GAAhB,CAAoBlB,KAApB,EAA2BgB,OAA3B;AACD;;AACDhB,MAAAA,KAAK,GAAGQ,eAAe,CAACW,GAAhB,CAAoBnB,KAApB,CAAR;AACD,KAND,MAMO,IACLA,KAAK,YAAYM,YAAC,CAACc,UAAnB,IACApB,KAAK,YAAYM,YAAC,CAACe,WADnB,IAEArB,KAAK,YAAYM,YAAC,CAACgB,OAFnB,IAGAtB,KAAK,YAAYM,YAAC,CAACiB,OAHnB,IAIAvB,KAAK,YAAYM,YAAC,CAACkB,IALd,EAML;AACAC,MAAAA,gBAAO,CAACzB,KAAD,CAAP;AACCA,MAAAA,KAAa,CAAC0B,QAAd,GAAyB,IAAzB,CAFD;AAGD,KATM,MASA;AACL,YAAM,IAAIC,KAAJ,CAAU,eAAV,CAAN;AACD;;AACD,WAAO3B,KAAP;AACD,GAtBD,MAsBO,IAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AACpC,WAAOC,KAAK,CAACD,KAAD,CAAZ;AACD;;AACD,SAAOA,KAAP;AACD;;SCde4B,WAAuCC,aAAgBC;MAAAA;AAAAA,IAAAA,MAAM,IAAIxB,YAAC,CAACQ,GAAN;;;AAC3E,MAAIgB,GAAG,CAACC,kBAAD,CAAP,EAAoB;AAClB,UAAM,IAAIJ,KAAJ,CAAU,YAAV,CAAN,CADkB;AAGnB;;AAED,MAAMK,KAAK,GAAG,IAAIC,KAAJ,CAAW,EAAX,EAAwC;AACpDf,IAAAA,GAAG,EAAE,aAACgB,MAAD,EAASC,CAAT,EAAYnC,KAAZ;AACH,UAAI,OAAOmC,CAAP,KAAa,QAAjB,EAA2B;AACzB,cAAM,IAAIR,KAAJ,EAAN;AACD;;AACD,UAAMX,OAAO,GAAGC,WAAS,CAACjB,KAAD,CAAzB;;AACA,UAAMoC,QAAQ,GAAGC,gBAAc,CAACrB,OAAD,CAAd,IAA2BA,OAA5C;;AACA,UAAIoB,QAAQ,YAAYrC,GAAxB,EAA6B;AAC3B+B,QAAAA,GAAG,CAACZ,GAAJ,CAAQiB,CAAR,EAAWC,QAAQ,CAACpC,KAApB;AACD,OAFD,MAEO;AACL8B,QAAAA,GAAG,CAACZ,GAAJ,CAAQiB,CAAR,EAAWC,QAAX;AACD;;AACD,aAAO,IAAP;AACD,KAbmD;AAcpDjB,IAAAA,GAAG,EAAE,aAACe,MAAD,EAASC,CAAT,EAAYG,QAAZ;AACH,UAAIH,CAAC,KAAKI,iBAAV,EAA2B;AACzB,eAAOT,GAAP;AACD;;AACD,UAAI,OAAOK,CAAP,KAAa,QAAjB,EAA2B;AACzB,eAAOK,OAAO,CAACrB,GAAR,CAAYe,MAAZ,EAAoBC,CAApB,CAAP,CADyB;AAG1B;;AACD,UAAIM,EAAJ;;AACA,UAAIH,QAAQ,IAAIA,QAAQ,CAACI,uBAAD,CAAxB,EAA0C;AAAA;;AACxCD,QAAAA,EAAE,4BAAGH,QAAQ,CAACI,uBAAD,CAAX,qBAAG,sBAA0B/B,gBAA/B;AACCmB,QAAAA,GAAW,CAAClB,iBAAZ,GAAgC6B,EAAhC;AACF;;AAGD,UAAIE,GAAG,GAAGb,GAAG,CAACX,GAAJ,CAAQgB,CAAR,CAAV;AACAQ,MAAAA,GAAG,GAAGjC,mBAAmB,CAACiC,GAAD,EAAMF,EAAN,CAAzB;AACA,aAAOE,GAAP;AACD,KAhCmD;AAiCpDC,IAAAA,cAAc,EAAE,wBAACV,MAAD,EAASC,CAAT;AACd,UAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;AACzB,cAAM,IAAIR,KAAJ,EAAN;AACD;;AACD,UAAIG,GAAG,CAACf,GAAJ,CAAQoB,CAAR,CAAJ,EAAgB;AACdL,QAAAA,GAAG,CAACe,MAAJ,CAAWV,CAAX;AACA,eAAO,IAAP;AACD,OAHD,MAGO;AACL,eAAO,KAAP;AACD;AACF,KA3CmD;AA4CpDpB,IAAAA,GAAG,EAAE,aAACmB,MAAD,EAASC,CAAT;AACH,UAAI,OAAOA,CAAP,KAAa,QAAb,IAAyBL,GAAG,CAACf,GAAJ,CAAQoB,CAAR,CAA7B,EAAyC;AACvC,eAAO,IAAP;AACD;;AACD,aAAO,KAAP;AACD,KAjDmD;AAkDpDW,IAAAA,wBAlDoD,oCAkD3BZ,MAlD2B,EAkDnBC,CAlDmB;AAmDlD,UAAI,OAAOA,CAAP,KAAa,QAAb,IAAyBL,GAAG,CAACf,GAAJ,CAAQoB,CAAR,CAA7B,EAAyC;AACvC,eAAO;AACLY,UAAAA,UAAU,EAAE,IADP;AAELC,UAAAA,YAAY,EAAE;AAFT,SAAP;AAID;;AACD,aAAOC,SAAP;AACD,KA1DmD;AA2DpDC,IAAAA,OAAO,EAAE,iBAAAhB,MAAM;AACb,aAAOrB,KAAK,CAACsC,IAAN,CAAWrB,GAAG,CAACsB,IAAJ,EAAX,CAAP;AACD;AA7DmD,GAAxC,CAAd;AAgEA5C,EAAAA,eAAe,CAACU,GAAhB,CAAoBY,GAApB,EAAyBE,KAAzB;;AAEA,OAAK,IAAIqB,GAAT,IAAgBxB,WAAhB,EAA6B;AAC3BG,IAAAA,KAAK,CAACqB,GAAD,CAAL,GAAaxB,WAAW,CAACwB,GAAD,CAAxB;AACD;;AAED,SAAOrB,KAAP;AACD;;ACvFDsB,qCAAiB;AACjBC,uCAAmB,CAACC,mBAAD,CAAnB;;AAEO,IAAMjB,iBAAe,GAAGkB,MAAM,CAAC,iBAAD,CAA9B;SAUSpB,iBACdqB;AAAY;;AAEZ,SAAOA,MAAM,CAACnB,iBAAD,CAAb;AACD;SAEetB,YAAsCjB;AACpDA,EAAAA,KAAK,GAAIqC,gBAAc,CAACrC,KAAD,CAAd,IAAwCA,KAAjD;;AACA,MAAIA,KAAK,YAAYM,YAAC,CAACO,KAAvB,EAA8B;AAC5B,WAAO8C,SAAS,CAAC,EAAD,EAAK3D,KAAL,CAAhB;AACD,GAFD,MAEO,IAAIA,KAAK,YAAYM,YAAC,CAACQ,GAAvB,EAA4B;AACjC,WAAOc,UAAU,CAAC,EAAD,EAAK5B,KAAL,CAAjB;AACD,GAFM,MAEA,IAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AACpC,WAAOA,KAAP,CADoC;AAErC,GAFM,MAEA,IAAIa,KAAK,CAAC+C,OAAN,CAAc5D,KAAd,CAAJ,EAA0B;AAC/B,WAAO2D,SAAS,CAAC3D,KAAD,CAAhB;AACD,GAFM,MAEA,IACLA,KAAK,YAAYM,YAAC,CAACc,UAAnB,IACApB,KAAK,YAAYM,YAAC,CAACe,WADnB,IAEArB,KAAK,YAAYM,YAAC,CAACgB,OAFnB,IAGAtB,KAAK,YAAYM,YAAC,CAACiB,OAJd,EAKL;AACA,WAAOvB,KAAP;AACD,GAPM,MAOA,IAAIA,KAAK,YAAYM,YAAC,CAACkB,IAAvB,EAA6B;AAClC,WAAOxB,KAAP;AACD,GAFM,MAEA,IAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AACpC,QAAIA,KAAK,YAAYD,GAArB,EAA0B;AACxB,aAAOC,KAAP;AACD,KAFD,MAEO;AACL,aAAO4B,UAAU,CAAC5B,KAAD,CAAjB;AACD;AACF,GANM,MAMA,IAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6B,OAAOA,KAAP,KAAiB,SAAlD,EAA6D;AAClE,WAAOA,KAAP;AACD,GAFM,MAEA;AACL,UAAM,IAAI2B,KAAJ,CAAU,SAAV,CAAN;AACD;AACF;;ACxCD,SAASkC,mBAAT,CAAgCC,GAAhC;AACE,MAAMC,KAAK,GAAG,SAASA,KAAT;;;AACZ,QAAItB,EAAE,2BAAG,KAAKC,uBAAL,CAAH,qBAAG,qBAAsB/B,gBAA/B;AACCmD,IAAAA,GAAW,CAAClD,iBAAZ,GAAgC6B,EAAhC;AACD,QAAMuB,KAAK,GAAGF,GAAG,CAACC,KAAJ,CAAUE,IAAV,CAAeH,GAAf,EAAoBI,KAApB,CAA0BJ,GAA1B,EAA+BK,SAA/B,CAAd;AACA,WAAOH,KAAK,CAAClC,GAAN,CAAU,UAAAsC,IAAI;AACnB,UAAMzB,GAAG,GAAGjC,mBAAmB,CAAC0D,IAAD,EAAO3B,EAAP,CAA/B;AACA,aAAOE,GAAP;AACD,KAHM,CAAP;AAIe,GARjB;;AASA,MAAM0B,SAAS,GAAG,SAASA,SAAT,CAAmBL,KAAnB;AAChB,WAAOA,KAAK,CAAClC,GAAN,CAAU,UAAAsC,IAAI;AACnB,UAAMpD,OAAO,GAAGC,WAAS,CAACmD,IAAD,CAAzB;;AACA,UAAMhC,QAAQ,GAAGC,gBAAc,CAACrB,OAAD,CAAd,IAA2BA,OAA5C;;AACA,UAAIoB,QAAQ,YAAYrC,GAAxB,EAA6B;AAC3B,eAAOqC,QAAQ,CAACpC,KAAhB;AACD,OAFD,MAEO;AACL,eAAOoC,QAAP;AACD;AACF,KARM,CAAP;AASD,GAVD;;AAYA,MAAMO,GAAG,GAAG;AACV;AACA;AACA;AACA;AACA;AACA;AACAoB,IAAAA,KAAK,EAALA,KAPU;AAQVO,IAAAA,OAAO,EAAER,GAAG,CAACQ,OAAJ,CAAYL,IAAZ,CAAiBH,GAAjB,CARC;AASVS,IAAAA,IAAI,EAAE;AACJT,MAAAA,GAAG,CAACS,IAAJ,CAASF,SAAS,0BAAlB;AACA,aAAOP,GAAG,CAACU,MAAX;AACD,KAZS;AAcVC,IAAAA,MAAM,EAAEX,GAAG,CAACW,MAAJ,CAAWR,IAAX,CAAgBH,GAAhB,CAdE;AAeVY,IAAAA,MAAM,EAAEZ,GAAG,CAACY,MAAJ,CAAWT,IAAX,CAAgBH,GAAhB,CAfE;AAiBVa,IAAAA,OAAO,EAAE;AACP,aAAO,GAAGA,OAAH,CAAWT,KAAX,CAAiBH,KAAK,CAACG,KAAN,CAAY,IAAZ,CAAjB,EAAoCC,SAApC,CAAP;AACiB,KAnBT;AAqBVS,IAAAA,MAAM,EAAE;AACN,aAAO,GAAGA,MAAH,CAAUV,KAAV,CAAgBH,KAAK,CAACG,KAAN,CAAY,IAAZ,CAAhB,EAAmCC,SAAnC,CAAP;AACgB,KAvBR;AAyBVU,IAAAA,IAAI,EAAE;AACJ,aAAO,GAAGA,IAAH,CAAQX,KAAR,CAAcH,KAAK,CAACG,KAAN,CAAY,IAAZ,CAAd,EAAiCC,SAAjC,CAAP;AACc,KA3BN;AA6BVrC,IAAAA,GAAG,EAAE;AACH,aAAO,GAAGA,GAAH,CAAOoC,KAAP,CAAaH,KAAK,CAACG,KAAN,CAAY,IAAZ,CAAb,EAAgCC,SAAhC,CAAP;AACa,KA/BL;AAiCVW,IAAAA,OAAO,EAAE;AACP,aAAO,GAAGA,OAAH,CAAWZ,KAAX,CAAiBH,KAAK,CAACG,KAAN,CAAY,IAAZ,CAAjB,EAAoCC,SAApC,CAAP;AACiB,KAnCT;AAqCVY,IAAAA,MAAM,EAAE;AACN,UAAIC,KAAK,GAAGb,SAAS,CAAC,CAAD,CAAT,GAAe,CAAf,GAAmBL,GAAG,CAACU,MAAJ,GAAaS,IAAI,CAACC,GAAL,CAASf,SAAS,CAAC,CAAD,CAAlB,CAAhC,GAAyDA,SAAS,CAAC,CAAD,CAA9E;AACA,UAAIgB,WAAW,GAAGhB,SAAS,CAAC,CAAD,CAA3B;AACA,UAAIH,KAAK,GAAGnD,KAAK,CAACsC,IAAN,CAAWtC,KAAK,CAACsC,IAAN,CAAWgB,SAAX,EAAsBJ,KAAtB,CAA4B,CAA5B,CAAX,CAAZ;AACA,UAAIqB,OAAO,GAAGrB,KAAK,CAACG,KAAN,CAAY,IAAZ,EAAkB,CAACc,KAAD,EAAQK,MAAM,CAACC,SAAP,CAAiBH,WAAjB,IAAgCH,KAAK,GAAGG,WAAxC,GAAsDlC,SAA9D,CAAlB,CAAd;AACAa,MAAAA,GAAG,CAACjB,MAAJ,CAAWmC,KAAX,EAAkBG,WAAlB;AACArB,MAAAA,GAAG,CAACW,MAAJ,CAAWO,KAAX,EAAkBX,SAAS,CAACL,KAAD,CAA3B;AACA,aAAOoB,OAAP;AACgB,KA7CR;AA+CV;AACA;AACA;;AAjDU,GAAZ;;AAqDAlF,EAAAA,MAAM,CAACqF,cAAP,CAAsB5C,GAAtB,EAA2B,QAA3B,EAAqC;AACnCI,IAAAA,UAAU,EAAE,KADuB;AAEnCC,IAAAA,YAAY,EAAE,KAFqB;AAGnCwC,IAAAA,QAAQ,EAAE,IAHyB;AAInCxF,IAAAA,KAAK,EAAE8D,GAAG,CAACU;AAJwB,GAArC;AAOA,SAAO7B,GAAP;AACD;;AAED,SAAS8C,gBAAT,CAA0BtD,CAA1B;AACE,MAAI,OAAOA,CAAP,KAAa,QAAb,IAAyBA,CAAC,CAACuD,IAAF,GAASlB,MAAtC,EAA8C;AAC5C,QAAMmB,KAAK,GAAGN,MAAM,CAAClD,CAAD,CAApB,CAD4C;;AAG5C,QAAIkD,MAAM,CAACC,SAAP,CAAiBK,KAAjB,CAAJ,EAA6B;AAC3B,aAAOA,KAAP;AACD;AACF;;AACD,SAAOxD,CAAP;AACD;;SAEewB,UAAa9B,aAAkBiC;MAAAA;AAAAA,IAAAA,MAAM,IAAIxD,YAAC,CAACO,KAAN;;;AACnD,MAAIiD,GAAG,CAAC/B,kBAAD,CAAP,EAAoB;AAClB,UAAM,IAAIJ,KAAJ,CAAU,YAAV,CAAN,CADkB;AAGnB;;AACD,MAAMiE,cAAc,GAAG/B,mBAAmB,CAACC,GAAD,CAA1C;AAEA,MAAM9B,KAAK,GAAG,IAAIC,KAAJ,CAAW2D,cAAX,EAAmD;AAC/D1E,IAAAA,GAAG,EAAE,aAACgB,MAAD,EAAS2D,IAAT,EAAe7F,KAAf;AACH,UAAMmC,CAAC,GAAGsD,gBAAgB,CAACI,IAAD,CAA1B;;AACA,UAAI,OAAO1D,CAAP,KAAa,QAAjB,EAA2B;AACzB,cAAM,IAAIR,KAAJ,EAAN;AACD;;;AAED,aAAO,IAAP;AACD,KAR8D;AAS/DR,IAAAA,GAAG,EAAE,aAACe,MAAD,EAAS2D,IAAT,EAAevD,QAAf;AACH,UAAMH,CAAC,GAAGsD,gBAAgB,CAACI,IAAD,CAA1B;;AAEA,UAAI1D,CAAC,KAAKI,iBAAV,EAA2B;AACzB,eAAOuB,GAAP;AACD;;AAED,UAAI,OAAO3B,CAAP,KAAa,QAAjB,EAA2B;AACzB,YAAIM,EAAJ;;AACA,YAAIH,QAAQ,IAAIA,QAAQ,CAACI,uBAAD,CAAxB,EAA0C;AAAA;;AACxCD,UAAAA,EAAE,4BAAGH,QAAQ,CAACI,uBAAD,CAAX,qBAAG,sBAA0B/B,gBAA/B;AACCmD,UAAAA,GAAW,CAAClD,iBAAZ,GAAgC6B,EAAhC;AACF;;AAGD,YAAIE,IAAG,GAAGmB,GAAG,CAAC3C,GAAJ,CAAQgB,CAAR,CAAV;;AACAQ,QAAAA,IAAG,GAAGjC,mBAAmB,CAACiC,IAAD,EAAMF,EAAN,CAAzB;AACA,eAAOE,IAAP;AACD;;AAED,UAAIR,CAAC,KAAKsB,MAAM,CAACqC,WAAjB,EAA8B;AAC5B,eAAO,OAAP;AACD;;AAED,UAAI3D,CAAC,KAAKsB,MAAM,CAACsC,QAAjB,EAA2B;AACzB,YAAMC,MAAM,GAAGlC,GAAG,CAACC,KAAJ,EAAf;AACA,eAAOvB,OAAO,CAACrB,GAAR,CAAY6E,MAAZ,EAAoB7D,CAApB,CAAP;AACD;;AAED,UAAIA,CAAC,KAAK,QAAV,EAAoB;AAClB,eAAO2B,GAAG,CAACU,MAAX;AACD;;;AAED,UAAM7B,GAAG,GAAGH,OAAO,CAACrB,GAAR,CAAYe,MAAZ,EAAoBC,CAApB,EAAuBG,QAAvB,CAAZ;AACA,aAAOK,GAAP;AACD,KA5C8D;AA6C/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,IAAAA,cAAc,EAAE,wBAACV,MAAD,EAAS2D,IAAT;AACd,UAAM1D,CAAC,GAAGsD,gBAAgB,CAACI,IAAD,CAA1B;;AACA,UAAI,OAAO1D,CAAP,KAAa,QAAjB,EAA2B;AACzB,cAAM,IAAIR,KAAJ,EAAN;AACD;;AACD,UAAIQ,CAAC,GAAG2B,GAAG,CAACU,MAAR,IAAkBrC,CAAC,IAAI,CAA3B,EAA8B;AAC5B2B,QAAAA,GAAG,CAACjB,MAAJ,CAAWV,CAAX;AACA,eAAO,IAAP;AACD,OAHD,MAGO;AACL,eAAO,KAAP;AACD;AACF,KAhE8D;AAiE/DpB,IAAAA,GAAG,EAAE,aAACmB,MAAD,EAAS2D,IAAT;AACH,UAAM1D,CAAC,GAAGsD,gBAAgB,CAACI,IAAD,CAA1B;;AACA,UAAI,OAAO1D,CAAP,KAAa,QAAjB,EAA2B;AACzB;AACA,eAAOK,OAAO,CAACzB,GAAR,CAAYmB,MAAZ,EAAoBC,CAApB,CAAP;AACD;;AACD,UAAIA,CAAC,GAAG2B,GAAG,CAACU,MAAR,IAAkBrC,CAAC,IAAI,CAA3B,EAA8B;AAC5B,eAAO,IAAP;AACD,OAFD,MAEO;AACL,eAAO,KAAP;AACD;AACF,KA5E8D;AA6E/DW,IAAAA,wBA7E+D,oCA6EtCZ,MA7EsC,EA6E9B2D,IA7E8B;AA8E7D,UAAM1D,CAAC,GAAGsD,gBAAgB,CAACI,IAAD,CAA1B;;AACA,UAAI1D,CAAC,KAAK,QAAV,EAAoB;AAClB,eAAO;AACLY,UAAAA,UAAU,EAAE,KADP;AAELC,UAAAA,YAAY,EAAE,KAFT;AAGLwC,UAAAA,QAAQ,EAAE;AAHL,SAAP;AAKD;;AACD,UAAI,OAAOrD,CAAP,KAAa,QAAb,IAAyBA,CAAC,IAAI,CAA9B,IAAmCA,CAAC,GAAG2B,GAAG,CAACU,MAA/C,EAAuD;AACrD,eAAO;AACLzB,UAAAA,UAAU,EAAE,IADP;AAELC,UAAAA,YAAY,EAAE,IAFT;AAGLwC,UAAAA,QAAQ,EAAE;AAHL,SAAP;AAKD;;AACD,aAAOvC,SAAP;AACD,KA9F8D;AA+F/DC,IAAAA,OAAO,EAAE,iBAAAhB,MAAM;AACb,UAAMkB,IAAI,GAAa,EAAvB;;AACA,WAAK,IAAI6C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnC,GAAG,CAACU,MAAxB,EAAgCyB,CAAC,EAAjC,EAAqC;AACnC7C,QAAAA,IAAI,CAACmB,IAAL,CAAU0B,CAAC,GAAG,EAAd;AACD;;AACD7C,MAAAA,IAAI,CAACmB,IAAL,CAAU,QAAV;AACA,aAAOnB,IAAP;AACD;AAtG8D,GAAnD,CAAd;AAyGAwC,EAAAA,cAAc,CAACrB,IAAf,CAAoBL,KAApB,CAA0BlC,KAA1B,EAAiCH,WAAjC;AACA,SAAOG,KAAP;AACD;;AC3NDsB,qCAAiB;AACjBC,uCAAmB,CAACC,mBAAD,CAAnB;;IAEajB,eAAe,GAAGkB,MAAM,CAAC,iBAAD;SAErByC,eAA2CxC;AACzD,SAAOA,MAAM,CAACnB,eAAD,CAAb;AACD;SAEe4D,iBAAoBzC;AAClC,SAAOA,MAAM,CAACnB,eAAD,CAAb;AACD;SAEeF,eACdqB;AAAY;;AAEZ,SAAOA,MAAM,CAACnB,eAAD,CAAb;AACD;SAEetB,UAAsCjB;AACpDA,EAAAA,KAAK,GAAIqC,cAAc,CAACrC,KAAD,CAAd,IAAwCA,KAAjD;;AACA,MAAIA,KAAK,YAAYM,YAAC,CAACO,KAAvB,EAA8B;AAC5B,WAAO8C,SAAS,CAAC,EAAD,EAAK3D,KAAL,CAAhB;AACD,GAFD,MAEO,IAAIA,KAAK,YAAYM,YAAC,CAACQ,GAAvB,EAA4B;AACjC,WAAOc,UAAU,CAAC,EAAD,EAAK5B,KAAL,CAAjB;AACD,GAFM,MAEA,IAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AACpC,WAAOA,KAAP,CADoC;AAErC,GAFM,MAEA,IAAIa,KAAK,CAAC+C,OAAN,CAAc5D,KAAd,CAAJ,EAA0B;AAC/B,WAAO2D,SAAS,CAAC3D,KAAD,CAAhB;AACD,GAFM,MAEA,IACLA,KAAK,YAAYM,YAAC,CAACc,UAAnB,IACApB,KAAK,YAAYM,YAAC,CAACe,WADnB,IAEArB,KAAK,YAAYM,YAAC,CAACgB,OAFnB,IAGAtB,KAAK,YAAYM,YAAC,CAACiB,OAJd,EAKL;AACA,WAAOvB,KAAP;AACD,GAPM,MAOA,IAAIA,KAAK,YAAYM,YAAC,CAACkB,IAAvB,EAA6B;AAClC,WAAOxB,KAAP;AACD,GAFM,MAEA,IAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AACpC,QAAIA,KAAK,YAAYD,GAArB,EAA0B;AACxB,aAAOC,KAAP;AACD,KAFD,MAEO;AACL,aAAO4B,UAAU,CAAC5B,KAAD,CAAjB;AACD;AACF,GANM,MAMA,IAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6B,OAAOA,KAAP,KAAiB,SAAlD,EAA6D;AAClE,WAAOA,KAAP;AACD,GAFM,MAEA;AACL,UAAM,IAAI2B,KAAJ,CAAU,SAAV,CAAN;AACD;AACF;SAEeyE,KAAiCC;AAC/C,SAAOzE,UAAU,CAAC,EAAD,EAAUyE,GAAG,CAACC,MAAJ,EAAV,CAAjB;AACD;;;;;;;;;;;;;;;;;;;;;;"}